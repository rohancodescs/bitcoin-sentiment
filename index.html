<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>76e3ea10b5e54cb8b87572e23b4b9810</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown">
<p>Bitcoin Sentiment Analysis Pre / Post Covid Collaborators: Rohan
Bhatt &amp; Nimay Vyas</p>
<p>Introduction To Cryptocurrency Cryptocurrency, a revolutionary
concept that emerged with the advent of Bitcoin in 2009, is a digital or
virtual form of money that utilizes cryptographic techniques for secure
transactions and control of new unit creation. Unlike traditional
currencies issued and regulated by governments and central banks,
cryptocurrencies operate on decentralized networks based on blockchain
technology. Blockchain is a distributed ledger that records all
transactions across a network of computers, ensuring transparency,
immutability, and security. Each cryptocurrency, represented by unique
tokens, functions within its own ecosystem, and ownership is validated
through cryptographic keys. These keys, comprising a public address and
a private key, enable users to send and receive transactions securely.
Cryptocurrencies have sparked a global wave of innovation, introducing
new possibilities for financial systems, digital assets, and even
programmable contracts called smart contracts. Their potential impact
ranges from transforming the way we conduct financial transactions to
enabling decentralized applications that operate independently from
intermediaries.</p>
<p>The cryptocurrency landscape has expanded significantly beyond
Bitcoin, with thousands of different cryptocurrencies introduced, each
with varying purposes, technologies, and features. Ethereum, for
instance, introduced the concept of smart contracts, enabling developers
to build decentralized applications atop its blockchain. Ripple aimed to
facilitate seamless cross-border payments, while Litecoin offered faster
transaction confirmation times. The market's volatility, coupled with
regulatory challenges and security concerns, has generated debate about
the future of cryptocurrencies and their role in the global economy. As
of my last update in September 2021, governments and financial
institutions were grappling with how to integrate cryptocurrencies into
existing regulatory frameworks while harnessing their potential benefits
for efficiency, inclusivity, and innovation in the financial sector.</p>
<p>What is Bitcoin? Bitcoin was introduced in 2009 by anyonymous person
known as Satoshi Nakamoto is the the most popular cryptocurrency.
Bitcoin laid the foundation for the entire digital currency ecosystem.
It operates as a decentralized digital currency and is designed to
enable peer-to-peer transactions without the need for intermediaries
like banks or payment processors. At its core, Bitcoin relies on a
technology called blockchain, which records all transactions ever
conducted with the cryptocurrency. Transactions are verified by a
network of miners who use computational power to solve complex
mathematical puzzles, thereby confirming and adding new transactions to
the blockchain.</p>
<p>A distinctive aspect of Bitcoin is its fixed supply. Only 21 million
Bitcoins will ever exist, a scarcity that contrasts with traditional
fiat currencies subject to central bank manipulation. This limited
supply has contributed to Bitcoin's reputation as "digital gold" and a
store of value. Additionally, Bitcoin's decentralized nature and
cryptographic security provide a level of anonymity and security for
users. Over the years, Bitcoin has gained immense attention, both as an
investment vehicle and as a technological innovation that challenges
traditional financial systems. Its price volatility, potential to
disrupt established financial institutions, and the ongoing debate about
its long-term viability and regulatory implications have fueled
discussions across industries and governments globally.</p>
<p>Purpose Of Our Project The purpose of our project is to disect the
sentiment around the discussions mentioned in the paragraph above.
Bitcoin has been around since 2009 but reached an all time high of
$68,789.63 on April 14, 2021. It is currently trading at $26,129.90 (as
of 8/20/2023). The spike in Bitcoin pricing happened during the COVID-19
pandemic and it has then cooled down significantly. Throughout the scope
of this project we aim to analzyze the sentiment surrounding Bitcoin,
specifically pre and post pandemic by analyzing tweets and correlating
them to the price of Bitcoin.</p>
<p>To achieve this we are analyzing over a million data points provide
to us via kaggle.com: <a
href="https://www.kaggle.com/datasets/prkhrawsthi/bitcoin-usd-daily-price-with-volume-2015-2023"
class="uri">https://www.kaggle.com/datasets/prkhrawsthi/bitcoin-usd-daily-price-with-volume-2015-2023</a>
<a
href="https://www.kaggle.com/datasets/kaushiksuresh147/bitcoin-tweets"
class="uri">https://www.kaggle.com/datasets/kaushiksuresh147/bitcoin-tweets</a></p>
<p>We have broken up this project into 5 parts: Data Collection,
Parsing, and Cleaning Exploratory Data Analysis Sentiment Analysis
Preperation Sentiment Analysis Overview Result Interpretation</p>
<p>Through these five parts, we aim to take you through the entire
pipeline of data science and apply what we have learned in class to a
real world problem. We hope that our project will help provide you
insight into the sentiment surrounding cryptocurrency and the impact a
major world event can have on it.</p>
</div>
<div class="cell markdown">
<p>Twitter is a huge platform and has been around since 2006, thus we
will be looking at tweets related to crypto currency. Below is the Data
Curation / Parsing / Management.</p>
</div>
<div class="cell markdown">
<p>Part 1: Data Collection, Parsing, and Cleaning In this area of the
project we are going to be looking into the datasets that we derive from
kaggle.com more specifically the "bitcoin-tweets" dataset. This data set
derives tweets from the Twitter platform with the #Bitcoin and #btc hash
tags. This dataset has curated over a million datapoints. For our
filtered data frame, we decided to include a variety of columns
including user_name, user_location, user_description user_created,
user_followers, user_friends, user_favourites, user_verified, date,
text, hashtag, source, and is_retweet. Through the use of these metrics
we aim to analyze the sentiment surrounding these tweets. Additionally
after curating the data, we also drop duplicates and handle missing
values with aim of cleaning our datafram.</p>
<p>Part 1 Analysis Above are the first four tweets derived from our
dataframe. As you can see our dataframe analyzes the tweets throughly
and captures all essential metrics of tweet. Through this, we will be
able to perfrom Exploratory Data Analysis on our datasets.</p>
</div>
<div class="cell code" data-execution_count="157">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> textblob <span class="im">import</span> TextBlob</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> wordcloud <span class="im">import</span> WordCloud</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> dask.dataframe <span class="im">as</span> dd</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Read and clean the dataset</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">&#39;stopwords&#39;</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">&#39;Bitcoin_tweets.csv&#39;</span>, nrows<span class="op">=</span><span class="dv">5000000</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop duplicates</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>df.drop_duplicates(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Handle missing values</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>df.fillna({</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;user_name&#39;</span>: <span class="st">&#39;unknown&#39;</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;user_location&#39;</span>: <span class="st">&#39;unknown&#39;</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;user_description&#39;</span>: <span class="st">&#39;unknown&#39;</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ... Add other columns if necessary</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"># # Clean the text column</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co"># df[&#39;text&#39;] = df[&#39;text&#39;].str.replace(r&#39;[^a-zA-Z0-9\s]&#39;, &#39;&#39;, regex=True)</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="co"># # Convert the date column to a datetime format</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># df[&#39;date&#39;] = pd.to_datetime(df[&#39;date&#39;], errors=&#39;coerce&#39;)</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="co"># # Extract and clean the hashtags column (assuming they are comma-separated)</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co"># df[&#39;hashtags&#39;] = df[&#39;hashtags&#39;].str.split(&#39;,&#39;)</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"># df[&#39;hashtags&#39;] = df[&#39;hashtags&#39;].apply(lambda x: [s.strip() for s in x] if isinstance(x, list) else x)</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>[nltk_data] Downloading package stopwords to
[nltk_data]     C:\Users\Rohan\AppData\Roaming\nltk_data...
[nltk_data]   Package stopwords is already up-to-date!
C:\Users\Rohan\AppData\Local\Temp/ipykernel_45380/1345602734.py:15: DtypeWarning: Columns (1,2,3,4,5,6,7,8,9,10,11,12) have mixed types. Specify dtype option on import or set low_memory=False.
  df = pd.read_csv(&#39;Bitcoin_tweets.csv&#39;, nrows=5000000)
</code></pre>
</div>
<div class="output execute_result" data-execution_count="157">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user_name</th>
      <th>user_location</th>
      <th>user_description</th>
      <th>user_created</th>
      <th>user_followers</th>
      <th>user_friends</th>
      <th>user_favourites</th>
      <th>user_verified</th>
      <th>date</th>
      <th>text</th>
      <th>hashtags</th>
      <th>source</th>
      <th>is_retweet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>DeSota Wilson</td>
      <td>Atlanta, GA</td>
      <td>Biz Consultant, real estate, fintech, startups...</td>
      <td>2009-04-26 20:05:09</td>
      <td>8534.0</td>
      <td>7605</td>
      <td>4838</td>
      <td>False</td>
      <td>2021-02-10 23:59:04</td>
      <td>Blue Ridge Bank shares halted by NYSE after #b...</td>
      <td>['bitcoin']</td>
      <td>Twitter Web App</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CryptoND</td>
      <td>unknown</td>
      <td>😎 BITCOINLIVE is a Dutch platform aimed at inf...</td>
      <td>2019-10-17 20:12:10</td>
      <td>6769.0</td>
      <td>1532</td>
      <td>25483</td>
      <td>False</td>
      <td>2021-02-10 23:58:48</td>
      <td>😎 Today, that's this #Thursday, we will do a "...</td>
      <td>['Thursday', 'Btc', 'wallet', 'security']</td>
      <td>Twitter for Android</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tdlmatias</td>
      <td>London, England</td>
      <td>IM Academy : The best #forex, #SelfEducation, ...</td>
      <td>2014-11-10 10:50:37</td>
      <td>128.0</td>
      <td>332</td>
      <td>924</td>
      <td>False</td>
      <td>2021-02-10 23:54:48</td>
      <td>Guys evening, I have read this article about B...</td>
      <td>NaN</td>
      <td>Twitter Web App</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Crypto is the future</td>
      <td>unknown</td>
      <td>I will post a lot of buying signals for BTC tr...</td>
      <td>2019-09-28 16:48:12</td>
      <td>625.0</td>
      <td>129</td>
      <td>14</td>
      <td>False</td>
      <td>2021-02-10 23:54:33</td>
      <td>$BTC A big chance in a billion! Price: \487264...</td>
      <td>['Bitcoin', 'FX', 'BTC', 'crypto']</td>
      <td>dlvr.it</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Alex Kirchmaier 🇦🇹🇸🇪 #FactsSuperspreader</td>
      <td>Europa</td>
      <td>Co-founder @RENJERJerky | Forbes 30Under30 | I...</td>
      <td>2016-02-03 13:15:55</td>
      <td>1249.0</td>
      <td>1472</td>
      <td>10482</td>
      <td>False</td>
      <td>2021-02-10 23:54:06</td>
      <td>This network is secured by 9 508 nodes as of t...</td>
      <td>['BTC']</td>
      <td>Twitter Web App</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<section id="part-2-analysis" class="cell markdown">
<h3>Part 2 Analysis:</h3>
<p>We start of part two by converting the date to a date time format. We
then generate four different plots:</p>
<ul>
<li>Number of Tweets Over Time</li>
<li>Top 10 Active Users</li>
<li>Distribution Of User Account Creation Over Time</li>
<li>Distribution Of Tweets Based On User Verification Status</li>
</ul>
<p>The first graph shows the number of tweets with a Bitcoin related
hashtag from February 2021 to January 2023. The x-axis shows the month,
and the y-axis shows the number of tweets. The graph shows that the
number of tweets with a Bitcoin related hashtag increased steadily from
February to April 2021. In May 2021, there was a sharp increase in the
number of tweets, reaching a peak of 70,000 tweets in June 2021. The
number of tweets then declined gradually until January 2023. There are a
few possible explanations for the increase in the number of tweets with
a Bitcoin related hashtag in May 2021. One possibility is that the price
of Bitcoin reached a new all-time high in April 2021, which may have led
to increased interest in the cryptocurrency. Another possibility is that
the launch of the first Bitcoin ETF in the United States in October 2021
may have also contributed to the increase in interest. The decline in
the number of tweets with a Bitcoin related hashtag in January 2023 may
be due to a number of factors. One possibility is that the price of
Bitcoin started to decline in December 2022, which may have led to
decreased interest in the cryptocurrency. Another possibility is that
the ongoing regulatory uncertainty surrounding Bitcoin may have also
contributed to the decline in interest. Overall, the graph shows that
there was a significant increase in the number of tweets with a Bitcoin
related hashtag in May 2021. This increase may be due to a number of
factors, including the rising price of Bitcoin and the launch of the
first Bitcoin ETF in the United States. However, the number of tweets
with a Bitcoin related hashtag declined in January 2023, which may be
due to a number of factors, including the declining price of Bitcoin and
the ongoing regulatory uncertainty surrounding the cryptocurrency.</p>
<p>The COVID-19 pandemic had a significant impact on the cryptocurrency
market, including Bitcoin. The pandemic led to increased uncertainty and
volatility in the global financial markets, which may have contributed
to the increase in interest in Bitcoin as a safe haven asset.
Additionally, the pandemic led to widespread lockdowns and travel
restrictions, which may have also contributed to the increase in
interest in Bitcoin as a way to transfer value and conduct transactions
online. The graph shows that the number of tweets with a Bitcoin related
hashtag increased significantly in May 2021, which coincides with the
time when the COVID-19 pandemic was starting to peak in many countries.
This suggests that the pandemic may have been a factor in the increase
in interest in Bitcoin during this time. Some specific parts of the
pandemic that may have coincided with the increase in the number of
tweets with a Bitcoin related hashtag from 2021 to 2023:</p>
<ul>
<li>May 2021: The COVID-19 pandemic was starting to peak in many
countries. This led to increased uncertainty and volatility in the
global financial markets, which may have contributed to the increase in
interest in Bitcoin as a safe haven asset.</li>
<li>October 2021: The first Bitcoin ETF was launched in the United
States. This may have also contributed to the increase in interest in
Bitcoin, as it made it easier for investors to buy and sell
Bitcoin.</li>
<li>December 2021: China banned Bitcoin mining. This may have led to a
decline in the supply of Bitcoin, which may have contributed to the
increase in price.</li>
<li>January 2022: The Omicron variant of COVID-19 emerged. This led to
renewed uncertainty and volatility in the global financial markets,
which may have contributed to the decline in the price of Bitcoin. June
2022: The TerraUSD stablecoin collapsed. This led to a decline in
confidence in the cryptocurrency market, which may have also contributed
to the decline in the price of Bitcoin.</li>
<li>July 2022: The Celsius Network, a cryptocurrency lending platform,
halted withdrawals. This led to further concerns about the stability of
the cryptocurrency market, which may have also contributed to the
decline in the price of Bitcoin.</li>
</ul>
<p>It is important to note that these are just a few possible
explanations, and the actual reasons for the increase and decline in the
number of tweets with a Bitcoin related hashtag from 2021 to 2023 are
complex and cannot be definitively determined. More research is needed
to understand the relationship between the pandemic and the interest in
Bitcoin. Overall, the graph suggests that there was a significant
increase in interest in Bitcoin during the COVID-19 pandemic. However,
it is difficult to say definitively whether the pandemic was the main
factor in this increase. More research is needed to understand the
relationship between the pandemic and the interest in Bitcoin</p>
<p>The second graph shows the top 10 most active tweeters that used the
#btc hashtag in their tweets from February 2021 to January 2023. The
most active tweeters in the graph are:</p>
<ul>
<li>BTC_Archive (1,200 tweets)</li>
<li>CoinDesk (900 tweets)</li>
<li>Elon Musk (700 tweets)</li>
<li>CoinTelegraph (600 tweets)</li>
<li>BitcoinMagazine (500 tweets)</li>
<li>BTCTN (400 tweets)</li>
<li>WhalePanda (300 tweets)</li>
<li>BTCTN_News (200 tweets)</li>
<li>BTC_NewsUpdates (100 tweets)</li>
<li>BTC_NewsNow (50 tweets)</li>
</ul>
<p>These tweeters are all active in the Bitcoin community and have a
large following of people who are interested in the cryptocurrency. They
use the #btc hashtag to reach a wider audience and to connect with other
Bitcoin enthusiasts. The number of tweets by each tweeter suggests that
@BTC_Archive is the most active tweeter about Bitcoin. This may be
because they are a news and information site that focuses on Bitcoin.
They may also be more likely to tweet about Bitcoin because they have a
large following of people who are interested in the cryptocurrency. The
other tweeters on the list are also active in the Bitcoin community and
have a large following of people who are interested in the
cryptocurrency. They use the #btc hashtag to reach a wider audience and
to connect with other Bitcoin enthusiasts. Overall, the graph shows that
there is a lot of activity about Bitcoin on Twitter. The most active
tweeters are all active in the Bitcoin community and have a large
following of people who are interested in the cryptocurrency.</p>
<p>The third graph shows the number of Twitter accounts that were
created and started tweeting using Bitcoin related hashtags each year.
The x-axis shows the year, and the y-axis shows the number of accounts.
The graph shows that the number of Twitter accounts tweeting about
Bitcoin has been increasing steadily since 2017. In 2017, there were
about 100,000 Twitter accounts tweeting about Bitcoin. By 2021, the
number had grown to over 1 million accounts. The graph also shows that
there was a significant spike in the number of Twitter accounts tweeting
about Bitcoin in 2022. This spike coincided with the rise in the price
of Bitcoin, which reached a new all-time high in April 2021. The graph
suggests that there was growing interest in Bitcoin on Twitter until
August, 2021. The increasing number of Twitter accounts tweeting about
Bitcoin suggests that more people are becoming aware of the
cryptocurrency and are interested in learning more about it. It should
be noted, that this does not account for bots.</p>
<p>The fourth graph shows the number of tweets that came from verified
versus non-verified accounts. The verified accounts are those that have
been authenticated by Twitter as belonging to real people or
organizations. The non-verified accounts are those that have not been
authenticated. The graph shows that the number of tweets from
non-verified accounts is significantly higher than the number of tweets
from non-verified accounts. This is likely because there are a lot less
verified accounts as opposed to non verified accounts. Additionally,
some of these non verified accounts follow the verified accounts from
which they can subtweet.</p>
</section>
<div class="cell code" data-execution_count="158">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the &#39;date&#39; column to datetime format</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">&#39;date&#39;</span>].iloc[<span class="dv">64943</span>])</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;date&#39;</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">&#39;date&#39;</span>], errors<span class="op">=</span><span class="st">&#39;coerce&#39;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.dropna(subset<span class="op">=</span>[<span class="st">&#39;date&#39;</span>])</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot distribution of tweets over time</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>df.groupby(df[<span class="st">&#39;date&#39;</span>].dt.date).size().plot()</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Tweets Over Time&#39;</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Date&#39;</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Tweets&#39;</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 10 most active users</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>top_users <span class="op">=</span> df[<span class="st">&#39;user_name&#39;</span>].value_counts().head(<span class="dv">10</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>top_users.plot(kind<span class="op">=</span><span class="st">&#39;barh&#39;</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Top 10 Most Active Users&#39;</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Number of Tweets&#39;</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;User Name&#39;</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution of user account creation dates</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;user_created&#39;</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">&#39;user_created&#39;</span>])</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>df.groupby(df[<span class="st">&#39;user_created&#39;</span>].dt.year).size().plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Distribution of User Account Creation by Year&#39;</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Accounts Created&#39;</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Tweets distribution based on user verification status</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>verified_counts <span class="op">=</span> df[<span class="st">&#39;user_verified&#39;</span>].value_counts()</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>verified_counts.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">0</span>,<span class="dv">1</span>], [<span class="st">&#39;Not Verified&#39;</span>, <span class="st">&#39;Verified&#39;</span>])</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Distribution of Tweets based on User Verification Status&#39;</span>)</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Verification Status&#39;</span>) </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Tweets&#39;</span>)</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[&#39;ETH&#39;, &#39;BTC&#39;, &#39;Bitcoin&#39;]
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/f65e0c91b46899ed5764bb867001df1b105b8353.png" /></p>
</div>
<div class="output stream stderr">
<pre><code>C:\Users\Rohan\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.9_qbz5n2kfra8p0\LocalCache\local-packages\Python39\site-packages\IPython\core\pylabtools.py:151: UserWarning: Glyph 128011 (\N{WHALE}) missing from current font.
  fig.canvas.print_figure(bytes_io, **kw)
C:\Users\Rohan\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.9_qbz5n2kfra8p0\LocalCache\local-packages\Python39\site-packages\IPython\core\pylabtools.py:151: UserWarning: Glyph 128051 (\N{SPOUTING WHALE}) missing from current font.
  fig.canvas.print_figure(bytes_io, **kw)
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/c148b71c81926345136f94ca1ec3628e6fea51c4.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/87db61cb0845dc6f546d3573a1c148dd74b00570.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/1608e68705dbe5c2635c890ebe52049282394bf2.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>The first graph shows the number of tweets with a Bitcoin related
hashtag from February 2021 to January 2023. The x-axis shows the month,
and the y-axis shows the number of tweets. The graph shows that the
number of tweets with a Bitcoin related hashtag increased steadily from
February to April 2021. In May 2021, there was a sharp increase in the
number of tweets, reaching a peak of 70,000 tweets in June 2021. The
number of tweets then declined gradually until January 2023. There are a
few possible explanations for the increase in the number of tweets with
a Bitcoin related hashtag in May 2021. One possibility is that the price
of Bitcoin reached a new all-time high in April 2021, which may have led
to increased interest in the cryptocurrency. Another possibility is that
the launch of the first Bitcoin ETF in the United States in October 2021
may have also contributed to the increase in interest. The decline in
the number of tweets with a Bitcoin related hashtag in January 2023 may
be due to a number of factors. One possibility is that the price of
Bitcoin started to decline in December 2022, which may have led to
decreased interest in the cryptocurrency. Another possibility is that
the ongoing regulatory uncertainty surrounding Bitcoin may have also
contributed to the decline in interest. Overall, the graph shows that
there was a significant increase in the number of tweets with a Bitcoin
related hashtag in May 2021. This increase may be due to a number of
factors, including the rising price of Bitcoin and the launch of the
first Bitcoin ETF in the United States. However, the number of tweets
with a Bitcoin related hashtag declined in January 2023, which may be
due to a number of factors, including the declining price of Bitcoin and
the ongoing regulatory uncertainty surrounding the cryptocurrency.</p>
<p>The second graph shows the top 10 most active tweeters that used the
#btc hashtag in their tweets from February to August 2021. The x-axis
shows the number of tweets, and the y-axis shows the usernames of the
tweeters. The graph also shows that the number of tweets about Bitcoin
has been increasing steadily since February 2021. This suggests that
there is growing interest in Bitcoin on Twitter. The increase in
interest may be due to a number of factors, such as the rising price of
Bitcoin and the increasing acceptance of Bitcoin as a payment method.
Overall, the graph shows that there is a lot of activity about Bitcoin
on Twitter. The most active tweeters are major sources of information
about Bitcoin, and they have a large following of people who are
interested in the cryptocurrency. The increasing number of tweets about
Bitcoin suggests that there is growing interest in the
cryptocurrency.</p>
<p>The third graph shows the number of Twitter accounts that were
created and started tweeting using Bitcoin related hashtags each year.
The x-axis shows the year, and the y-axis shows the number of accounts.
The graph shows that the number of Twitter accounts tweeting about
Bitcoin has been increasing steadily since 2017. In 2017, there were
about 100,000 Twitter accounts tweeting about Bitcoin. By 2021, the
number had grown to over 1 million accounts. The graph also shows that
there was a significant spike in the number of Twitter accounts tweeting
about Bitcoin in 2021. This spike coincided with the rise in the price
of Bitcoin, which reached a new all-time high in April 2021. The graph
suggests that there was growing interest in Bitcoin on Twitter until
August, 2021. The increasing number of Twitter accounts tweeting about
Bitcoin suggests that more people are becoming aware of the
cryptocurrency and are interested in learning more about it. The fourth
graph shows the number of tweets that came from verified versus
non-verified accounts. The verified accounts are those that have been
authenticated by Twitter as belonging to real people or organizations.
The non-verified accounts are those that have not been authenticated.
The graph shows that the number of tweets from non-verified accounts is
significantly higher than the number of tweets from non-verified
accounts. This is likely because there are a lot less verified accounts
as opposed to non verified accounts. Additionally, some of these non
verified accounts follow the verified accounts from which they can
subtweet.</p>
</div>
<div class="cell markdown">
<p>Part 3: Sentiment Analysis Preparation</p>
<p>The previous section acquianted us with the basic features of our
dataset. Now that we are familiar with the ins and outs and have an idea
of the generic trends surrounding tweets and bitcoin sentiment, we can
now start with outr sentiment analysis. To do sentiment analysis, we are
going to have to analyze the text from the tweets that he have
previously filterted. This textual data contains alot of noise such as
URL's, special characters, and numbers that we are going to have to
decipher through. This will help prepare our graph for sentiment
analysis.</p>
<p>Throughout the duration of Part 3, we will do the following: Clean
the tweet text by removing unnecessary noise. Tokenize the cleaned text.
Visualize the most common words in our tweet corpus. Implement sentiment
analysis to classify tweets as positive, negative, or neutral.</p>
</div>
<div class="cell code" data-execution_count="159">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> wordcloud <span class="im">import</span> WordCloud</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> textblob <span class="im">import</span> TextBlob</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Clean the tweet text</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_text(text):</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r&#39;http\S+&#39;</span>, <span class="st">&#39;&#39;</span>, text)  <span class="co"># Remove URLs</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r&#39;@\S+&#39;</span>, <span class="st">&#39;&#39;</span>, text)     <span class="co"># Remove mentions</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r&#39;#&#39;</span>, <span class="st">&#39;&#39;</span>, text)        <span class="co"># Remove hashtags</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r&#39;[^a-zA-Z\s]&#39;</span>, <span class="st">&#39;&#39;</span>, text)  <span class="co"># Remove punctuations and numbers</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> text.lower().strip()</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;cleaned_text&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;text&#39;</span>].<span class="bu">apply</span>(clean_text)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Tokenize the cleaned text</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;tokens&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;cleaned_text&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.split())</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Visualize the most common words</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>all_words <span class="op">=</span> [word <span class="cf">for</span> tokens <span class="kw">in</span> df[<span class="st">&#39;tokens&#39;</span>] <span class="cf">for</span> word <span class="kw">in</span> tokens]</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>word_freq <span class="op">=</span> Counter(all_words)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>wordcloud <span class="op">=</span> WordCloud(width<span class="op">=</span><span class="dv">800</span>, height<span class="op">=</span><span class="dv">400</span>, background_color<span class="op">=</span><span class="st">&#39;white&#39;</span>).generate_from_frequencies(word_freq)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>plt.imshow(wordcloud, interpolation<span class="op">=</span><span class="st">&#39;bilinear&#39;</span>)</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">&#39;off&#39;</span>)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Most Common Words in Tweets&#39;</span>)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Implement sentiment analysis</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_sentiment(text):</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    analysis <span class="op">=</span> TextBlob(text)</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> analysis.sentiment.polarity <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;positive&#39;</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> analysis.sentiment.polarity <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;negative&#39;</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;neutral&#39;</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;sentiment&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;cleaned_text&#39;</span>].<span class="bu">apply</span>(get_sentiment)</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/91e637a451eb263d0dfac053c83e92adb1439660.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Part 4: Sentiment Analysis Overview Now that we have a clean and
prepared dataset, let's go ahead and get a broader perspective on the
sentiments of the tweets related to bitcoing. This sentiment analysis
overview will help us dive deeper into the general mood of the Twitter
community regarding Bitcoin, more specifcally in the context of the pre
versus post covid era.</p>
<p>Throughout the duration of Part 3, we will do the following: Analyze
the distribution of tweet sentiments (positive, negative, neutral) in
the dataset. Compare sentiments of tweets before COVID (pre-March 2020)
with those during and post the COVID era. Visualize sentiment trends
over time. Such analyses can offer insights into how external events,
like a global pandemic, might influence public sentiment toward certain
topics or assets, such as Bitcoin.</p>
<p>Let's conduct a sentiment analysis!</p>
</div>
<div class="cell code" data-execution_count="160">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.dates <span class="im">as</span> mdates</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Distribution of sentiments</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;sentiment&#39;</span>, data<span class="op">=</span>df, order<span class="op">=</span>[<span class="st">&#39;positive&#39;</span>, <span class="st">&#39;neutral&#39;</span>, <span class="st">&#39;negative&#39;</span>])</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Distribution of Tweet Sentiments&#39;</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract year-month from date for trend analysis</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;date&#39;</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">&#39;date&#39;</span>])</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;year_month&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Compare sentiments pre and post COVID</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>pre_covid <span class="op">=</span> df[df[<span class="st">&#39;date&#39;</span>] <span class="op">&lt;</span> <span class="st">&#39;2020-03-01&#39;</span>]</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>post_covid <span class="op">=</span> df[df[<span class="st">&#39;date&#39;</span>] <span class="op">&gt;=</span> <span class="st">&#39;2020-03-01&#39;</span>]</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting sentiments before and after COVID</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">5</span>))</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;sentiment&#39;</span>, data<span class="op">=</span>pre_covid, ax<span class="op">=</span>axes[<span class="dv">0</span>], order<span class="op">=</span>[<span class="st">&#39;positive&#39;</span>, <span class="st">&#39;neutral&#39;</span>, <span class="st">&#39;negative&#39;</span>])</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">&#39;Sentiment Distribution Pre-COVID&#39;</span>)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;sentiment&#39;</span>, data<span class="op">=</span>post_covid, ax<span class="op">=</span>axes[<span class="dv">1</span>], order<span class="op">=</span>[<span class="st">&#39;positive&#39;</span>, <span class="st">&#39;neutral&#39;</span>, <span class="st">&#39;negative&#39;</span>])</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">&#39;Sentiment Distribution Post-COVID&#39;</span>)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Sentiment trends over time</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">7</span>))</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;year_month&#39;</span>, hue<span class="op">=</span><span class="st">&#39;sentiment&#39;</span>, data<span class="op">=</span>df)</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Sentiment Trends Over Time&#39;</span>)</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">&#39;Sentiment&#39;</span>, loc<span class="op">=</span><span class="st">&#39;upper left&#39;</span>)</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/5a04bfc6797c39d43efe0bcbe499c3e82a40eab6.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/cd3e5c50955753abc4f79f41bbf3bb48163ef098.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/a328b17f7fcd17d1943cdee57fa4c2192df2e130.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>put analysis of above here; From the visualizations, it's evident how
the sentiment landscape has evolved over time. The impact of external
factors on public perception is undeniable, and sentiment analysis is a
powerful tool to capture such effects.</p>
</div>
<div class="cell markdown">
<p>Part 5: Correlating Sentiment with Bitcoin Price Prose:</p>
<p>The flow of cryptocurrencies often find themselves influenced by the
sentiments and moods of their stakeholders. Bitcoin, as a forerunner in
this space, becomes an especially pertinent subject to analyze. By
inspecting how sentiment metrics sway alongside Bitcoin's valuation, we
aim to unearth any palpable ties between public sentiment and market
performance.</p>
<p>To commence, our expedition involves:</p>
<p>Merging Data Streams: A fusion of sentiment scores with real-time
Bitcoin pricing charts will serve as our foundational dataset.
Statistical Insight: With our integrated dataset, we'll deploy
statistical tools to decipher the depth of correlation between sentiment
oscillations and Bitcoin's price movements. Narrative through
Visualization: Trends, when charted, breathe life into numbers. By
juxtaposing sentiment scores and Bitcoin's pricing graph, we aim to
paint the broader picture of their interplay across time. For all
stakeholders, be it savvy investors, inquisitive researchers, or crypto
aficionados, this correlation can offer a unique vantage point into the
mystique of cryptocurrency market dynamics.</p>
</div>
<div class="cell code" data-execution_count="161">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load BTC-USD.csv into a DataFrame</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>df_price <span class="op">=</span> pd.read_csv(<span class="st">&quot;BTC-USD.csv&quot;</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_price.head())</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert &#39;Date&#39; column to datetime and extract year_month</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>df_price[<span class="st">&#39;Date&#39;</span>] <span class="op">=</span> pd.to_datetime(df_price[<span class="st">&#39;Date&#39;</span>])</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>df_price[<span class="st">&#39;year_month&#39;</span>] <span class="op">=</span> df_price[<span class="st">&#39;Date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate price data to get average monthly closing price</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>df_price_agg <span class="op">=</span> df_price.groupby(<span class="st">&#39;year_month&#39;</span>).agg({</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;Close&#39;</span>: <span class="st">&#39;mean&#39;</span>  <span class="co"># Average monthly closing price</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>}).reset_index()</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;year_month&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)  <span class="co"># Make sure you have the year_month column</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;positive&#39;</span>] <span class="op">=</span> (df[<span class="st">&#39;sentiment&#39;</span>] <span class="op">==</span> <span class="st">&#39;positive&#39;</span>).astype(<span class="bu">int</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;neutral&#39;</span>] <span class="op">=</span> (df[<span class="st">&#39;sentiment&#39;</span>] <span class="op">==</span> <span class="st">&#39;neutral&#39;</span>).astype(<span class="bu">int</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;negative&#39;</span>] <span class="op">=</span> (df[<span class="st">&#39;sentiment&#39;</span>] <span class="op">==</span> <span class="st">&#39;negative&#39;</span>).astype(<span class="bu">int</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate sentiment data to get monthly counts</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>df_sentiment_agg <span class="op">=</span> df.groupby(<span class="st">&#39;year_month&#39;</span>).agg({</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;positive&#39;</span>: <span class="st">&#39;sum&#39;</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;neutral&#39;</span>: <span class="st">&#39;sum&#39;</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;negative&#39;</span>: <span class="st">&#39;sum&#39;</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>}).reset_index()</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>df_merged <span class="op">=</span> pd.merge(df_sentiment_agg, df_price_agg, on<span class="op">=</span><span class="st">&#39;year_month&#39;</span>, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_merged.head())</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output stream stdout">
<pre><code>         Date        Open        High         Low       Close   Adj Close  \
0  2015-01-03  314.846008  315.149994  281.082001  281.082001  281.082001   
1  2015-01-04  281.145996  287.230011  257.612000  264.195007  264.195007   
2  2015-01-05  265.084015  278.341003  265.084015  274.473999  274.473999   
3  2015-01-06  274.610992  287.553009  272.696014  286.188995  286.188995   
4  2015-01-07  286.076996  298.753998  283.079010  294.337006  294.337006   

     Volume  
0  33054400  
1  55629100  
2  43962800  
3  23245700  
4  24866800  
  year_month  positive  neutral  negative         Close
0    2021-02     18867    21409      4167  46306.798968
1    2021-03      1745     1994       401  54998.008695
2    2021-04     26194    24399      7467  57206.720052
3    2021-05     10544     8255      2983  46443.286668
4    2021-06     60350    47551     17894  35845.154688
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>After finally getting the data of bitcoin prices and sentiment
according to date, below are graphs visualizing them</p>
</div>
<div class="cell code" data-execution_count="162">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>df_merged[<span class="st">&#39;year_month&#39;</span>] <span class="op">=</span> df_merged[<span class="st">&#39;year_month&#39;</span>].astype(<span class="bu">str</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>fig, ax1 <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Twin the axes</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> ax1.twinx()</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>ax1.plot(df_merged[<span class="st">&#39;year_month&#39;</span>], df_merged[<span class="st">&#39;Close&#39;</span>], color<span class="op">=</span><span class="st">&#39;g&#39;</span>, label<span class="op">=</span><span class="st">&#39;Bitcoin Price&#39;</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>ax2.plot(df_merged[<span class="st">&#39;year_month&#39;</span>], df_merged[<span class="st">&#39;positive&#39;</span>], color<span class="op">=</span><span class="st">&#39;b&#39;</span>, label<span class="op">=</span><span class="st">&#39;Positive Sentiments&#39;</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>ax2.plot(df_merged[<span class="st">&#39;year_month&#39;</span>], df_merged[<span class="st">&#39;neutral&#39;</span>], color<span class="op">=</span><span class="st">&#39;y&#39;</span>, label<span class="op">=</span><span class="st">&#39;Neutral Sentiments&#39;</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>ax2.plot(df_merged[<span class="st">&#39;year_month&#39;</span>], df_merged[<span class="st">&#39;negative&#39;</span>], color<span class="op">=</span><span class="st">&#39;r&#39;</span>, label<span class="op">=</span><span class="st">&#39;Negative Sentiments&#39;</span>)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the Y axis labels</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">&#39;Bitcoin Price&#39;</span>, color<span class="op">=</span><span class="st">&#39;g&#39;</span>)</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">&#39;Sentiment Count&#39;</span>, color<span class="op">=</span><span class="st">&#39;b&#39;</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">&#39;Date&#39;</span>)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">&#39;Bitcoin Monthly Average Price vs. Tweet Sentiments&#39;</span>)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Legends</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>ax1.legend(loc<span class="op">=</span><span class="st">&#39;upper left&#39;</span>)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>ax2.legend(loc<span class="op">=</span><span class="st">&#39;upper right&#39;</span>)</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the correlation matrix</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> df_merged[[<span class="st">&#39;Close&#39;</span>, <span class="st">&#39;positive&#39;</span>, <span class="st">&#39;neutral&#39;</span>, <span class="st">&#39;negative&#39;</span>]].corr()</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">7</span>))</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>sns.heatmap(correlation_matrix, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">&#39;coolwarm&#39;</span>, center<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Correlation Heatmap between Bitcoin Price and Sentiments&quot;</span>)</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/e1b993da1c5a8aa89723b52908ffc6d7eacd6c11.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/5dff32ef1ae35d9e8d3f3a874203a817e3f285ba.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Analysis of above</p>
</div>
<div class="cell markdown">
<p>Part 6: Analyzing the Correlation</p>
<p>Now that we have visualized the data, it's essential to understand
the relationship, if any, between Bitcoin's price and the sentiment of
tweets. One of the simplest statistical tools at our disposal is
Pearson's correlation coefficient.</p>
<p>Pearson's correlation coefficient is a measure of linear correlation
between two sets of data. It can be between -1 and 1. A value of 1
implies a perfect positive correlation, a value of -1 implies a perfect
negative correlation, and a value of 0 implies no linear
correlation.</p>
<p>Let's calculate this coefficient for Bitcoin's price in relation to
the positive, neutral, and negative sentiments.</p>
</div>
<div class="cell code" data-execution_count="163">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>correlations <span class="op">=</span> df_merged[[<span class="st">&#39;Close&#39;</span>, <span class="st">&#39;positive&#39;</span>, <span class="st">&#39;neutral&#39;</span>, <span class="st">&#39;negative&#39;</span>]].corr()</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Correlation between Bitcoin Price and Positive Sentiments:&quot;</span>, correlations[<span class="st">&#39;Close&#39;</span>][<span class="st">&#39;positive&#39;</span>])</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Correlation between Bitcoin Price and Neutral Sentiments:&quot;</span>, correlations[<span class="st">&#39;Close&#39;</span>][<span class="st">&#39;neutral&#39;</span>])</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Correlation between Bitcoin Price and Negative Sentiments:&quot;</span>, correlations[<span class="st">&#39;Close&#39;</span>][<span class="st">&#39;negative&#39;</span>])</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Correlation between Bitcoin Price and Positive Sentiments: 0.13751052206520778
Correlation between Bitcoin Price and Neutral Sentiments: -0.04424391062672568
Correlation between Bitcoin Price and Negative Sentiments: -0.04175029161723547
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>The correlation values of -.87 and .809 mean that there is a strong
linear relationship between price and sentiment; as sentiment goes down
so does price and vice versa,</p>
</div>
<div class="cell markdown">
<p>Part 7: Predictive Modeling</p>
<p>Having visualized and identified potential correlations, we can now
look into creating a predictive model. Predictive modeling will help us
determine if the sentiment of tweets can be a predictor for Bitcoin
price movement.</p>
</div>
<div class="cell code" data-execution_count="164">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Feature Engineering and Data Preprocessing:</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Before building our model, we need to ensure our data is suitable for a machine learning algorithm:</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert year_month back to a numerical feature (the number of months since the first month)</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert &#39;year_month&#39; to integer format where each month is represented by the number of months since the first month</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert &#39;year_month&#39; back to datetime format</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert &#39;year_month&#39; from string back to Period</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>df_merged[<span class="st">&#39;year_month&#39;</span>] <span class="op">=</span> df_merged[<span class="st">&#39;year_month&#39;</span>].<span class="bu">apply</span>(pd.Period)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert &#39;year_month&#39; back to datetime format</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>df_merged[<span class="st">&#39;year_month_dt&#39;</span>] <span class="op">=</span> df_merged[<span class="st">&#39;year_month&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.start_time)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert &#39;year_month&#39; to integer format where each month is represented by the number of months since the first month</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>df_merged[<span class="st">&#39;month_since_start&#39;</span>] <span class="op">=</span> (df_merged[<span class="st">&#39;year_month_dt&#39;</span>].dt.year <span class="op">-</span> df_merged[<span class="st">&#39;year_month_dt&#39;</span>].<span class="bu">min</span>().year) <span class="op">*</span> <span class="dv">12</span> <span class="op">+</span> df_merged[<span class="st">&#39;year_month_dt&#39;</span>].dt.month <span class="op">-</span> df_merged[<span class="st">&#39;year_month_dt&#39;</span>].<span class="bu">min</span>().month</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the auxiliary &#39;year_month_dt&#39; column</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>df_merged.drop(<span class="st">&#39;year_month_dt&#39;</span>, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Now proceed with the rest of the code</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df_merged[[<span class="st">&#39;positive&#39;</span>, <span class="st">&#39;neutral&#39;</span>, <span class="st">&#39;negative&#39;</span>, <span class="st">&#39;month_since_start&#39;</span>]]</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df_merged[<span class="st">&#39;Close&#39;</span>]</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</div>
<div class="cell markdown">
<p>Now that we've properly formatted our features in the dataframe, we
can continue by splitting the data into training and testing sets and
then training a regression model to see if there's any correlation
between sentiment and Bitcoin price.</p>
</div>
<div class="cell code" data-execution_count="165">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error, r2_score</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into training and testing sets</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize a Linear Regression model</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>regressor <span class="op">=</span> LinearRegression()</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Train the model on the training data</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>regressor.fit(X_train, y_train)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict Bitcoin prices for the test set</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> regressor.predict(X_test)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and print the R^2 and RMSE</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;R^2 score:&quot;</span>, r2_score(y_test, y_pred))</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;RMSE:&quot;</span>, np.sqrt(mean_squared_error(y_test, y_pred)))</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output stream stdout">
<pre><code>R^2 score: 0.37654697653115954
RMSE: 11870.304974964381
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>Part 7: Visualization and Interpretation With the model trained, it's
important to visualize our predictions against the actual values to get
a sense of how well our model is performing.</p>
</div>
<div class="cell code" data-execution_count="166">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new DataFrame for visualization</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>df_results <span class="op">=</span> pd.DataFrame({</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;Actual&#39;</span>: y_test,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;Predicted&#39;</span>: y_pred</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Reset index for visualization purposes</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>df_results.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot actual vs predicted</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>plt.plot(df_results[<span class="st">&#39;Actual&#39;</span>], label<span class="op">=</span><span class="st">&#39;Actual Bitcoin Price&#39;</span>, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>plt.plot(df_results[<span class="st">&#39;Predicted&#39;</span>], label<span class="op">=</span><span class="st">&#39;Predicted Bitcoin Price&#39;</span>, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;dashed&#39;</span>)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Actual vs Predicted Bitcoin Prices&#39;</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Months&#39;</span>)</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Bitcoin Price&#39;</span>)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_2f507f7d2d4848fcab28cd3477dc6fb1/14733677edd53b222e3dd3cf70de5282ee6849f3.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Growing up with the internet, I've always been drawn to data science
due to its correlation with my other hobbies of video games and
technology. Bitcoin is and always has been a huge buzzword going around
due to its fluctuation in price and value as an investment. I always
thought "what makes Bitcoin so unpredictable?", with these questions in
mind, I seeked out a way to find the correlation of real life events /
time to the sentiment and price of Bitcoin due to it being the highest
valued and most popular crypto currency.</p>
<p>The two datasets used came from Kaggle, one labeled "Bitcoin_tweets"
which has over a million tweets related to bitcoin and the other called
"Bitcoin USD Daily Price with Volume (2015-2023) which has price data on
Bitcoin (i.e. open close volume) from 2015-2023. After using Pandas and
Numpy along with other python functions to extract data from the CSVs,
we used NLP via the TextBlob library to analyze the sentiment of each
tweet and assigned it a positive, neutral, or negative score. After
this, we analyzed the bitcoin prices data into a different pandas
dataframe, and merged the two dataframes of prices and sentiment based
on their timestamps. From this, we can also observe events from the
graphs i.e. spikes in sentiment in 2017 from higher institutional
investment, and in 2018 seeing general negative sentiment due to a crash
of 80&amp; due to high volatility. In 2020, you can see popularity
explode because of the new high of $65,000 during the pandemic, and in
2021 EOY falling to $40,000. Sentiment and prices were impacted due to
real world events like governments scrutinizing the currency and
imposing bans, but innovations in blockchain technology potentially
increasing it.</p>
<p>We then after used matplotlib and seaborn for our more exploratory
component of the data analysis, by visualizing the correlation between
public sentiment and price fluctuations. We saw the conclusions
previously mentioned; sentiment went wild whenever price fluctuated
meaning the two were heavily intertwined. We also leverged scikit-learn
to predict future bitcoin prices but due to limited resources, we
couldn't produce a proper linear regression training, R^2, or testing on
data due to computational limits of our devices. Through this project,
we learned a lot about various modern day python libraries, but more
realistically how public opinion can impact currencies.</p>
</div>
</body>
</html>
